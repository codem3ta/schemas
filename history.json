{
  "$id": "https://codemeta.de/schemas/history",
  "type": "object",
  "collection": "history",
  "name": "history",
  "i18n": {
    "de": {
      "singular": "History",
      "plural": "History",
      "description": "History"
    }
  },
  "properties": {
    "collection": {
      "type": "string",
      "description": "Die Sammlung, zu der das Dokument gehört"
    },
    "documentId": {
      "type": "object"
    },
    "operationType": {
      "type": "string",
      "description": "Die Art der Operation (z. B. update, insert, delete)",
      "enum": ["update", "insert", "delete"]
    },
    "fullDocument": {
      "type": ["object", "null"],
      "description": "Das gesamte Dokument nach der Änderung, wenn verfügbar"
    },
    "updatedFields": {
      "type": "object",
      "description": "Die Felder, die aktualisiert wurden"
    },
    "user": {
      "type": "object",
      "objectId": true,
      "target": "https://codemeta.de/schemas/party"
    },
    "changedAt": {
      "type": "object",
      "properties": {
        "$date": {
          "type": "string",
          "format": "date-time",
          "description": "Zeitpunkt der Änderung im ISO 8601-Format"
        }
      },
      "required": ["$date"]
    }
  },
  "required": []
}
